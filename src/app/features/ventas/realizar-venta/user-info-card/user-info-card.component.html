<div class="user-info-card" [attr.data-time-of-day]="timeOfDay()">
  <!-- Main User Card -->
  <div class="main-user-section">
    
    <!-- Avatar Section -->
    <div class="avatar-section">
      <div class="avatar-container" 
           (click)="onProfileClick()"
           pTooltip="Ver perfil completo"
           tooltipPosition="bottom"
           pRipple>
        
        @if (user().avatar) {
          <p-avatar 
            [image]="user().avatar" 
            size="xlarge" 
            shape="circle"
            styleClass="user-avatar">
          </p-avatar>
        } @else {
          <p-avatar 
            [label]="userInitials()" 
            size="xlarge" 
            shape="circle"
            styleClass="user-avatar user-avatar-initials">
          </p-avatar>
        }
        
        <!-- Status Indicator -->
        <div class="status-indicator" (click)="onStatusClick(); $event.stopPropagation()">
          <div class="status-dot" [class]="statusConfig().color">
            @if (statusConfig().pulse) {
              <div class="status-pulse" [class]="statusConfig().color"></div>
            }
          </div>
        </div>
        
        <!-- Premium Badge -->
        <div class="premium-badge">
          <i class="pi pi-star-fill"></i>
        </div>
      </div>
    </div>
    
    <!-- User Info -->
    <div class="user-details">
      
      <!-- Greeting -->
      <div class="greeting-section">
        <h3 class="greeting-text">{{ greeting() }}</h3>
        <p class="welcome-back">Â¡Bienvenido de vuelta! ðŸŽ‰</p>
      </div>
      
      <!-- User Data -->
      <div class="user-data">
        <div class="user-name">
          <span class="name-text">{{ user().name }}</span>
          <i class="pi pi-verified verification-badge" 
             pTooltip="Usuario verificado"
             tooltipPosition="right"></i>
        </div>
        
        <div class="user-role">
          <p-tag 
            [value]="user().role" 
            [severity]="statusConfig().severity"
            icon="pi pi-briefcase"
            styleClass="role-tag">
          </p-tag>
        </div>
        
        @if (user().email) {
          <div class="user-email">
            <i class="pi pi-envelope"></i>
            <span>{{ user().email }}</span>
          </div>
        }
      </div>
    </div>
    
  </div>
  
  <!-- Session Info & Actions -->
  <div class="session-section">
    
    <!-- Session Stats -->
    <div class="session-stats">
      <div class="stat-item">
        <div class="stat-icon">
          <i class="pi pi-clock"></i>
        </div>
        <div class="stat-content">
          <span class="stat-label">SesiÃ³n activa</span>
          <span class="stat-value">{{ sessionDuration() }}</span>
        </div>
      </div>
      
      <div class="stat-item">
        <div class="stat-icon status-icon" [class]="statusConfig().color">
          <i class="pi pi-circle-fill"></i>
        </div>
        <div class="stat-content">
          <span class="stat-label">Estado</span>
          <span class="stat-value">{{ statusConfig().text }}</span>
        </div>
      </div>
    </div>
    
    <!-- Quick Actions -->
    <div class="quick-actions">
      
      <!-- Notifications Button -->
      <p-button 
        (click)="onNotificationsClick()"
        icon="pi pi-bell"
        [badge]="notificationCount().toString()"
        badgeClass="notification-badge"
        severity="secondary"
        [outlined]="true"
        size="small"
        pTooltip="Notificaciones"
        tooltipPosition="top"
        styleClass="action-button notification-button"
        pRipple>
      </p-button>
      
      <!-- Profile Button -->
      <p-button 
        (click)="onProfileClick()"
        icon="pi pi-user"
        severity="secondary"
        [outlined]="true"
        size="small"
        pTooltip="Mi perfil"
        tooltipPosition="top"
        styleClass="action-button profile-button"
        pRipple>
      </p-button>
      
    </div>
    
  </div>
  
  <!-- Time Display -->
  <div class="time-display">
    <div class="current-time">
      <i class="pi pi-calendar"></i>
      <span class="time-text">
        {{ currentTime() | date:'EEEE, d MMMM y' }}
      </span>
    </div>
    <div class="current-hour">
      <i class="pi pi-clock"></i>
      <span class="hour-text">
        {{ currentTime() | date:'HH:mm:ss' }}
      </span>
    </div>
  </div>
  
</div>