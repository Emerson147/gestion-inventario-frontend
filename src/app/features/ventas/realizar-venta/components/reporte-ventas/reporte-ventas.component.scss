// ‚úÖ VARIABLES EMPRESARIALES M√çNIMAS
:root {
  --empresa-primary: #1e40af;
  --empresa-success: #059669;
  --empresa-warning: #d97706;
  --empresa-danger: #dc2626;
  --empresa-info: #0891b2;
  --empresa-dark: #1f2937;
  --shadow-empresa: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

// ‚úÖ ANIMACIONES MODERNAS
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-out;
}

// ‚úÖ SIDEBAR DE FILTROS CON SCROLL PERSONALIZADO
.sidebar-filtros {
  &::-webkit-scrollbar {
    width: 6px;
  }

  &::-webkit-scrollbar-track {
    background: #f1f5f9;
  }

  &::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 3px;
    
    &:hover {
      background: #94a3b8;
    }
  }
}

// ‚úÖ HEADER EMPRESARIAL
.header-empresarial {
  @apply bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-2xl;
  
  .header-content {
    @apply container mx-auto px-6 py-8;
  }
  
  .empresa-info {
    @apply flex items-center gap-6;
    
    .logo-empresa {
      @apply w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center text-4xl backdrop-blur-sm;
    }
  }
  
  .estado-sistema {
    .estado-card {
      @apply bg-white bg-opacity-10 backdrop-blur-md border-0;
      
      .estado-content {
        @apply flex items-center gap-3 text-white;
        
        i {
          @apply text-green-400 text-2xl;
        }
      }
    }
  }
}

// ‚úÖ DASHBOARD PRINCIPAL
.dashboard-principal {
  @apply container mx-auto px-6 py-6;
  
  .filtros-panel {
    @apply h-full;
    
    .filtros-tiempo,
    .filtros-datos,
    .filtros-avanzados {
      @apply space-y-4;
      
      .p-field {
        @apply space-y-2;
        
        label {
          @apply font-semibold text-gray-700 text-sm;
        }
      }
    }
    
    .range-labels {
      @apply flex justify-between text-sm text-gray-600 mt-2;
    }
    
    .acciones-filtros {
      @apply mt-6 space-y-3;
    }
  }
}

// ‚úÖ KPIs PRINCIPALES
.kpis-principales {
  @apply mb-8;
  
  .kpi-card {
    @apply border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1;
    
    &.ventas-card {
      @apply border-l-4 border-l-green-500;
    }
    
    &.transacciones-card {
      @apply border-l-4 border-l-blue-500;
    }
    
    &.clientes-card {
      @apply border-l-4 border-l-purple-500;
    }
    
    &.ticket-card {
      @apply border-l-4 border-l-orange-500;
    }
    
    .kpi-content {
      @apply flex items-center gap-4;
      
      .kpi-icon {
        @apply w-16 h-16 rounded-full flex items-center justify-center text-2xl text-white;
        background: linear-gradient(135deg, var(--empresa-primary), var(--empresa-info));
      }
      
      .kpi-info {
        .kpi-valor {
          @apply text-2xl font-bold text-gray-900;
        }
        
        .kpi-titulo {
          @apply text-gray-600 font-medium;
        }
        
        .kpi-porcentaje {
          @apply flex items-center gap-1 text-sm font-semibold mt-1;
          
          &.positivo {
            @apply text-green-600;
          }
          
          &.negativo {
            @apply text-red-600;
          }
        }
      }
    }
  }
}

// ‚úÖ PROGRESO DE META
.progreso-meta {
  .meta-card {
    @apply border-0 shadow-lg bg-gradient-to-r from-indigo-50 to-blue-50;
    
    .meta-content {
      @apply flex justify-between items-center;
      
      .meta-info {
        .meta-actual {
          @apply text-3xl font-bold text-indigo-700;
        }
        
        .meta-objetivo {
          @apply text-gray-600;
        }
      }
      
      .meta-progreso {
        @apply flex-1 ml-8;
      }
    }
  }
}

// ‚úÖ GR√ÅFICOS
.grafico-card {
  @apply border-0 shadow-lg;
  
  .grafico-controles {
    @apply mt-4 flex justify-center;
  }
}

// ‚úÖ M√âTODOS DE PAGO
.metodos-leyenda {
  @apply mt-4 space-y-2;
  
  .metodo-item {
    @apply flex items-center gap-3;
    
    .metodo-color {
      @apply w-4 h-4 rounded-full;
    }
    
    .metodo-info {
      @apply flex-1 flex justify-between;
      
      .metodo-nombre {
        @apply font-medium text-gray-700;
      }
      
      .metodo-porcentaje {
        @apply font-bold text-gray-900;
      }
    }
  }
}

// ‚úÖ TOP CARDS
.top-card {
  @apply border-0 shadow-lg;
  
  .producto-info,
  .vendedor-info,
  .cliente-info {
    @apply flex items-center gap-3;
    
    .producto-nombre,
    .vendedor-nombre,
    .cliente-nombre {
      @apply font-semibold text-gray-900;
    }
    
    .producto-categoria,
    .vendedor-sucursal,
    .cliente-email {
      @apply text-sm text-gray-500;
    }
  }
  
  .vendedor-ventas,
  .cliente-compras {
    .vendedor-meta {
      @apply mt-2;
      
      small {
        @apply text-xs text-gray-500;
      }
    }
    
    .cliente-frecuencia {
      @apply text-sm text-gray-500;
    }
  }
  
  .quantidade-chip,
  .comision-chip {
    @apply bg-blue-100 text-blue-800;
  }
}

// ‚úÖ SEGMENTACI√ìN
.segmentos-card {
  @apply border-0 shadow-lg;
  
  .segmentos-detalle {
    @apply mt-4 space-y-3;
    
    .segmento-item {
      @apply flex items-center gap-3 p-3 rounded-lg;
      
      &.premium {
        @apply bg-yellow-50 text-yellow-800;
      }
      
      &.frecuente {
        @apply bg-green-50 text-green-800;
      }
      
      &.ocasional {
        @apply bg-blue-50 text-blue-800;
      }
    }
  }
}

// ‚úÖ CLIENTES
.clientes-card {
  .table-header {
    @apply flex justify-between items-center mb-4;
  }
  
  .cliente-acciones {
    @apply flex gap-2;
  }
  
  .ultima-compra {
    @apply text-sm text-gray-600;
  }
}

// ‚úÖ CHIPS DE SEGMENTO
.premium-chip {
  @apply bg-yellow-100 text-yellow-800;
}

.frecuente-chip {
  @apply bg-green-100 text-green-800;
}

.ocasional-chip {
  @apply bg-blue-100 text-blue-800;
}

// ‚úÖ TIPOS DE REPORTES
.tipos-reportes {
  .reporte-card {
    @apply border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1;
    
    &.excel-card {
      @apply border-l-4 border-l-green-500;
    }
    
    &.pdf-card {
      @apply border-l-4 border-l-red-500;
    }
    
    &.ppt-card {
      @apply border-l-4 border-l-orange-500;
    }
    
    &.csv-card {
      @apply border-l-4 border-l-blue-500;
    }
    
    .reporte-content {
      @apply space-y-4;
      
      .reporte-icon {
        @apply w-16 h-16 mx-auto rounded-full flex items-center justify-center text-3xl text-white bg-gradient-to-r from-gray-600 to-gray-800;
      }
      
      .reporte-info {
        @apply text-center;
        
        h4 {
          @apply text-lg font-bold text-gray-900 mb-2;
        }
        
        p {
          @apply text-gray-600 text-sm;
        }
      }
      
      .reporte-progreso {
        small {
          @apply text-center block text-gray-600 mt-2;
        }
      }
    }
  }
}

// ‚úÖ HISTORIAL DE REPORTES
.historial-card {
  @apply border-0 shadow-lg;
  
  .reporte-item {
    @apply flex items-center gap-2;
  }
  
  .archivo-info {
    .archivo-nombre {
      @apply font-medium text-gray-900;
    }
    
    .archivo-tama√±o {
      @apply text-sm text-gray-500;
    }
  }
  
  .acciones-reporte {
    @apply flex gap-2;
  }
  
  .empty-state {
    @apply text-center py-12;
    
    i {
      @apply text-6xl text-gray-300 mb-4;
    }
    
    p {
      @apply text-gray-500;
    }
  }
  
  .tipo-chip {
    @apply bg-indigo-100 text-indigo-800;
  }
}

// ‚úÖ INTELIGENCIA ARTIFICIAL
.ia-card {
  @apply border-0 shadow-lg bg-gradient-to-r from-purple-50 to-indigo-50;
  
  .ia-acciones {
    @apply flex gap-3 mt-6;
  }
}

.predicciones-card {
  @apply border-0 shadow-lg;
  
  .metricas-precision {
    @apply mt-4;
    
    .metrica-item {
      @apply flex items-center gap-4;
      
      .metrica-label {
        @apply font-medium text-gray-700 min-w-fit;
      }
    }
  }
}

.insights-card {
  @apply border-0 shadow-lg;
  
  .insights-lista {
    @apply space-y-4;
    
    .insight-item {
      @apply flex items-center gap-4 p-4 bg-gray-50 rounded-lg;
      
      .insight-icon {
        @apply text-2xl;
        
        &.positivo {
          @apply text-green-500;
        }
        
        &.neutro {
          @apply text-blue-500;
        }
        
        &.confianza {
          @apply text-purple-500;
        }
        
        &.tendencia {
          @apply text-orange-500;
        }
      }
      
      .insight-content {
        .insight-titulo {
          @apply font-semibold text-gray-900;
        }
        
        .insight-valor {
          @apply text-xl font-bold text-indigo-600;
        }
        
        .insight-descripcion {
          @apply text-sm text-gray-500;
        }
      }
    }
  }
  
  .recomendaciones {
    @apply mt-6 pt-6 border-t border-gray-200;
    
    h5 {
      @apply font-bold text-gray-900 mb-3;
    }
    
    .recomendaciones-lista {
      @apply space-y-2;
      
      li {
        @apply text-sm text-gray-700 flex items-start gap-2;
        
        &::before {
          content: "üí°";
          @apply inline-block;
        }
      }
    }
  }
}

// ‚úÖ FLOATING ACTIONS
.floating-actions {
  @apply fixed bottom-6 right-6 z-50;
}

// ‚úÖ DETALLE DIALOG
.detalle-dialog {
  .cliente-detalle {
    .cliente-info-completa {
      @apply text-center space-y-3;
      
      h4 {
        @apply text-xl font-bold text-gray-900;
      }
      
      p {
        @apply text-gray-600;
      }
    }
  }
  
  .info-card,
  .historial-card {
    @apply border-0 shadow-lg;
  }
}

// ‚úÖ TABS EMPRESARIALES
.reportes-tabs {
  .p-tabview-nav {
    @apply bg-white shadow-lg rounded-t-xl;
    
    .p-tabview-nav-link {
      @apply border-0 bg-transparent hover:bg-blue-50 transition-all duration-200;
      
      &.p-highlight {
        @apply bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-lg;
      }
    }
  }
  
  .p-tabview-panels {
    @apply bg-white shadow-lg rounded-b-xl border-0 min-h-screen;
  }
}

// ‚úÖ RESPONSIVE M√çNIMO
@media (max-width: 768px) {
  .header-empresarial {
    .empresa-info {
      @apply flex-col text-center gap-4;
    }
  }
  
  .kpi-content {
    @apply flex-col text-center;
  }
  
  .meta-content {
    @apply flex-col gap-4;
    
    .meta-progreso {
      @apply ml-0;
    }
  }
  
  .floating-actions {
    @apply bottom-4 right-4;
  }
}

// ‚úÖ ANIMACIONES M√çNIMAS
@keyframes pulse-empresa {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}

.animate-pulse-empresa {
  animation: pulse-empresa 2s infinite;
}

// ‚úÖ UTILIDADES EMPRESARIALES
.gradient-empresa {
  background: linear-gradient(135deg, var(--empresa-primary), var(--empresa-info));
}

.shadow-empresa {
  box-shadow: var(--shadow-empresa);
}

.border-empresa {
  border-color: var(--empresa-primary);
}


/* Estilos base optimizados */
.tabs-optimizado {
  ::ng-deep {
    .p-tabview-nav {
      background: #f8fafc;
      border: none;
      padding: 0;
      border-radius: 0;
    }
    
    .p-tabview-nav-link {
      background: transparent;
      border: none;
      padding: 0;
      margin: 0.5rem;
      border-radius: 0.75rem;
      transition: all 0.2s ease;
      
      &:hover {
        background: rgba(59, 130, 246, 0.05);
      }
    }
    
    .p-tabview-selected .p-tabview-nav-link {
      background: rgba(59, 130, 246, 0.1);
      border-color: #3b82f6;
    }
    
    .p-tabview-panels {
      background: white;
      border: none;
      padding: 0;
    }
    
    .p-tabview-panel {
      background: white;
    }
  }
}

/* Container de contenido de pesta√±as */
.tab-content-container {
  min-height: 600px;
  background: white;
  
  &.pos-content {
    background: #fafafa;
  }
  
  &.historial-content {
    background: #f8fafc;
  }
  
  &.reportes-content {
    background: #f0fdf4;
  }
  
  &.configuracion-content {
    background: #faf5ff;
  }
}

/* Animaciones optimizadas */
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out;
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

/* Estados hover optimizados */
.hover\:bg-blue-50:hover {
  background-color: #eff6ff !important;
}

.hover\:bg-indigo-50:hover {
  background-color: #eef2ff !important;
}

.hover\:bg-green-50:hover {
  background-color: #f0fdf4 !important;
}

.hover\:bg-purple-50:hover {
  background-color: #faf5ff !important;
}

/* Transiciones optimizadas */
.transition-colors {
  transition: background-color 0.2s ease, color 0.2s ease;
}

.transition-all {
  transition: all 0.2s ease;
}

/* Responsive optimizations */
@media (max-width: 1024px) {
  .tab-content-container {
    min-height: 500px;
  }
  
  .lg\:hidden {
    display: block !important;
  }
}

@media (max-width: 768px) {
  .tab-content-container {
    min-height: 400px;
    padding: 1rem;
  }
  
  .tabs-optimizado {
    ::ng-deep {
      .p-tabview-nav {
        overflow-x: auto;
        white-space: nowrap;
      }
      
      .p-tabview-nav-link {
        margin: 0.25rem;
        min-width: auto;
      }
    }
  }
}

/* Estados de loading */
.loading-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Scrollbar personalizado */
.overflow-y-auto {
  scrollbar-width: thin;
  scrollbar-color: #cbd5e0 #f7fafc;
  
  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: #f7fafc;
  }
  
  &::-webkit-scrollbar-thumb {
    background: #cbd5e0;
    border-radius: 3px;
    
    &:hover {
      background: #a0aec0;
    }
  }
}

/* Optimizaciones de performance */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform;
}

/* Focus states */
button:focus,
.p-button:focus {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

/* Utilidades adicionales */
.shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.shadow-xl {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* ===== SCROLL HORIZONTAL SOLO EN PESTA√ëAS (TABS) - M√ìVIL ===== */

::ng-deep .modern-tabs-scroll {
  
  /* Contenedor de navegaci√≥n con scroll horizontal solo en m√≥vil */
  .p-tabview-nav-container {
    position: relative;
    
    @media (max-width: 1024px) {
      overflow-x: auto;
      overflow-y: hidden;
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* IE y Edge */
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch; /* iOS momentum */
      
      /* Ocultar scrollbar en Webkit */
      &::-webkit-scrollbar {
        display: none;
      }
    }
  }
  
  /* Barra de navegaci√≥n (pesta√±as) */
  .p-tabview-nav {
    border-bottom: 2px solid #e5e7eb;
    
    @media (max-width: 1024px) {
      display: flex !important;
      flex-wrap: nowrap !important;
      width: max-content !important;
      min-width: 100%;
    }
    
    @media (min-width: 1024px) {
      display: flex !important;
      flex-wrap: wrap !important;
    }
  }
  
  /* Cada pesta√±a individual */
  .p-tabview-nav-link {
    display: flex !important;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
    
    @media (max-width: 1024px) {
      white-space: nowrap !important;
      padding: 0.75rem 1rem !important;
      font-size: 0.875rem !important;
      flex-shrink: 0 !important;
    }
    
    @media (min-width: 1024px) {
      padding: 1rem 1.5rem !important;
      font-size: 0.9375rem !important;
    }
    
    &:hover {
      background-color: #f3f4f6;
    }
  }
  
  /* Pesta√±a activa */
  .p-highlight .p-tabview-nav-link {
    color: #2563eb !important;
    border-bottom-color: #2563eb !important;
    font-weight: 600;
  }
  
  /* Contenido de las pesta√±as - SIN SCROLL, flujo normal */
  .p-tabview-panels {
    overflow: visible !important;
    
    .p-tabview-panel {
      overflow: visible !important;
    }
  }
}

/* Efectos t√°ctiles para m√≥vil */
@media (max-width: 1024px) {
  ::ng-deep .modern-tabs-scroll .p-tabview-nav-link {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
    
    &:active {
      transform: scale(0.98);
      background-color: #e5e7eb;
    }
  }
}